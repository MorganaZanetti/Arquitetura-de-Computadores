	ORG 0000H
	LJMP INICIO:
	ORG 0100H

INICIO:
	MOV P1, #01000000B ;Se o botão 0 não for pressionado
	JNB P2.0, BOTAO_PRESSIONADO
	JMP INICIO ;Retorna a função enquanto nenhum botão for pressionado


BOTAO_PRESSIONADO:
	JNB P2.0, LIGADO
	JB P2.0, DESLIGADO
	RET ;Retorna à função anterior


LIGADO:
	MOV P1, #00100000B ;Liga o LED verde

DESLIGADO:
	MOV P1, #01000000B ;Liga o LED vermelho


DELAY: MOV R5, #255


COLOCA_CAPSULA: 
	JNB P2.7, CONFERE_AGUA

CONFERE_AGUA: ;Incrementar


TEMPERATURA:
	JNB P2.1, BOTAO_FRIO
	JNB P2.2, BOTAO_MORNO
	JNB P2.3, BOTAO_QUENTE
	JMP TEMPERATURA ;Continua na função TEMPERATURA até pressionar algum botão
	

PREPARA_BEBIDA:
	MOV P1, #10000000B ;Liga o LED amarelo
	ACALL DELAY
	MOV P1, #00100000B ;Liga o LED verde


BOTAO_LIGA_DESLIGA:
	ACALL BOTAO_PRESSIONADO


BOTAO_FRIO:	
	JB P2.1, PREPARA_BEBIDA ;Define o botão 1 como frio

BOTAO_MORNO:
	JB P2.2, PREPARA_BEBIDA ;Define o botão 2 como morno

BOTAO_QUENTE:
	JB P2.3, PREPARA_BEBIDA ;Define o botão 3 como quente
